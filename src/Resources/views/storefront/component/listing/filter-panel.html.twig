{% sw_extends '@Storefront/storefront/component/listing/filter-panel.html.twig' %}


{# Render order differently to Shopware (price before everything else) #}
{% block component_filter_panel_items %}


	{% block component_filter_panel_item_makaira %}
		{# @var properties \Shopware\Core\Framework\DataAbstractionLayer\Search\AggregationResult\Metric\EntityResult #}
		{% set properties = listing.aggregations.get('filter_color') %}
		{% if not properties.entities is empty %}
			{% for property in properties.entities %}
				{% sw_include '@Storefront/storefront/component/listing/filter/filter-property-select.html.twig' with {
                                        elements: property.options,
                                        sidebar: sidebar,
                                        name: 'filter_color',
                                        displayName: property.translated.name,
                                        displayType: property.displayType,
                                        pluginSelector: 'filter-property-select',
                                        propertyName: property.translated.name
                                    } %}
			{% endfor %}
		{% endif %}
	{% endblock %}


	{% block component_filter_panel_item_price %}
		{% set price = listing.aggregations.get('filter_price') %}

		{% if price.min !== null and price.max !== null %}
			{# '@deprecated tag:v6.5.0 - Variable `price` will no longer be required by filter-range.html.twig - Use `minInputValue` and `maxInputValue` instead.' #}
			{% sw_include '@Storefront/storefront/component/listing/filter/filter-range.html.twig' with {
                                    price: price,
                                    sidebar: sidebar,
                                    name: 'price',
                                    minKey: 'min-price',
                                    maxKey: 'max-price',
                                    lowerBound: 0,
                                    displayName: 'listing.filterPriceDisplayName'|trans|sw_sanitize,
                                    minInputValue: 0,
                                    maxInputValue: price.max,
                                } %}
		{% endif %}
	{% endblock %}

	{% block component_filter_panel_item_nachhaltigkeit %}


		{% set nachhaltigkeit = listing.aggregations.get('filter_Nachhaltigkeit') %}
		{% if not nachhaltigkeit.entities is empty %}

			{% sw_include '@Storefront/storefront/component/listing/filter/filter-multi-select.html.twig' with {
                                    elements: nachhaltigkeit.entities,
                                    sidebar: sidebar,
                                    name: 'filter_nachhaltigkeit',
                                    displayName: "Nachhaltigkeit"
                                } %}
		{% endif %}

	{% endblock %}


	{% block component_filter_panel_item_sale %}
		{% set sale = listing.aggregations.get('filter_Sale') %}
		{% if not sale.entities is empty %}

			{% sw_include '@Storefront/storefront/component/listing/filter/filter-multi-select.html.twig' with {
                                    elements: sale.entities,
                                    sidebar: sidebar,
                                    name: 'filter_sale',
                                    displayName: "Sale"
                                } %}
		{% endif %}

	{% endblock %}


{% endblock %}
